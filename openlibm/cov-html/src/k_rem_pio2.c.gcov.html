<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - app.info - src/k_rem_pio2.c</title>
  <link rel="stylesheet" type="text/css" href="../gcov.css">
</head>

<body>

          <table width="100%" border=0 cellspacing=0 cellpadding=0>
            <tr><td class="title">LCOV - code coverage report</td></tr>
            <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>

            <tr>
              <td width="100%">
                <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="10%" class="headerValue"><a href="../index.html" title="Click to go to top-level">top level</a> - <a href="index.html" title="Click to go to directory src">src</a> - k_rem_pio2.c<span style="font-size: 80%;"> (source / <a href="k_rem_pio2.c.func-c.html" title="Click to go to function table">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="5%"></td>
            <td width="5%" class="headerCovTableHead">Coverage</td>
            <td width="5%" class="headerCovTableHead" title="Covered + Uncovered code">Total</td>
            <td width="5%" class="headerCovTableHead" title="Exercised code only">Hit</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">app.info</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntryLo">0.0&nbsp;%</td>
            <td class="headerCovTableEntry">101</td>
            <td class="headerCovTableEntry">0</td>
          </tr>
          <tr>
            <td class="headerItem">Test Date:</td>
            <td class="headerValue">2024-01-11 15:52:50</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntryLo">0.0&nbsp;%</td>
            <td class="headerCovTableEntry">1</td>
            <td class="headerCovTableEntry">0</td>
          </tr>
          <tr>
            <td></td>
            <td></td>
            <td></td>
            <td class="headerItem">Branches:</td>
            <td class="headerCovTableEntryLo">0.0&nbsp;%</td>
            <td class="headerCovTableEntry">85</td>
            <td class="headerCovTableEntry">0</td>
          </tr>
                  <tr><td><img src="../glass.png" width=3 height=3 alt=""></td></tr>
                </table>
              </td>
            </tr>

            <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
          </table>

          <table cellpadding=0 cellspacing=0 border=0>
            <tr>
              <td><br></td>
            </tr>
            <tr>
              <td>
<pre class="sourceHeading">             Branch data     Line data    Source code</pre>
<pre class="source">
<span id="L1"><span class="lineNum">       1</span>                 :             : </span>
<span id="L2"><span class="lineNum">       2</span>                 :             : /* @(#)k_rem_pio2.c 1.3 95/01/18 */</span>
<span id="L3"><span class="lineNum">       3</span>                 :             : /*</span>
<span id="L4"><span class="lineNum">       4</span>                 :             :  * ====================================================</span>
<span id="L5"><span class="lineNum">       5</span>                 :             :  * Copyright (C) 1993 by Sun Microsystems, Inc. All rights reserved.</span>
<span id="L6"><span class="lineNum">       6</span>                 :             :  *</span>
<span id="L7"><span class="lineNum">       7</span>                 :             :  * Developed at SunSoft, a Sun Microsystems, Inc. business.</span>
<span id="L8"><span class="lineNum">       8</span>                 :             :  * Permission to use, copy, modify, and distribute this</span>
<span id="L9"><span class="lineNum">       9</span>                 :             :  * software is freely granted, provided that this notice </span>
<span id="L10"><span class="lineNum">      10</span>                 :             :  * is preserved.</span>
<span id="L11"><span class="lineNum">      11</span>                 :             :  * ====================================================</span>
<span id="L12"><span class="lineNum">      12</span>                 :             :  */</span>
<span id="L13"><span class="lineNum">      13</span>                 :             : </span>
<span id="L14"><span class="lineNum">      14</span>                 :             : #include &quot;cdefs-compat.h&quot;</span>
<span id="L15"><span class="lineNum">      15</span>                 :             : //__FBSDID(&quot;$FreeBSD: src/lib/msun/src/k_rem_pio2.c,v 1.11 2008/02/25 11:43:20 bde Exp $&quot;);</span>
<span id="L16"><span class="lineNum">      16</span>                 :             : </span>
<span id="L17"><span class="lineNum">      17</span>                 :             : /*</span>
<span id="L18"><span class="lineNum">      18</span>                 :             :  * __kernel_rem_pio2(x,y,e0,nx,prec)</span>
<span id="L19"><span class="lineNum">      19</span>                 :             :  * double x[],y[]; int e0,nx,prec;</span>
<span id="L20"><span class="lineNum">      20</span>                 :             :  * </span>
<span id="L21"><span class="lineNum">      21</span>                 :             :  * __kernel_rem_pio2 return the last three digits of N with </span>
<span id="L22"><span class="lineNum">      22</span>                 :             :  *              y = x - N*pi/2</span>
<span id="L23"><span class="lineNum">      23</span>                 :             :  * so that |y| &lt; pi/2.</span>
<span id="L24"><span class="lineNum">      24</span>                 :             :  *</span>
<span id="L25"><span class="lineNum">      25</span>                 :             :  * The method is to compute the integer (mod 8) and fraction parts of </span>
<span id="L26"><span class="lineNum">      26</span>                 :             :  * (2/pi)*x without doing the full multiplication. In general we</span>
<span id="L27"><span class="lineNum">      27</span>                 :             :  * skip the part of the product that are known to be a huge integer (</span>
<span id="L28"><span class="lineNum">      28</span>                 :             :  * more accurately, = 0 mod 8 ). Thus the number of operations are</span>
<span id="L29"><span class="lineNum">      29</span>                 :             :  * independent of the exponent of the input.</span>
<span id="L30"><span class="lineNum">      30</span>                 :             :  *</span>
<span id="L31"><span class="lineNum">      31</span>                 :             :  * (2/pi) is represented by an array of 24-bit integers in ipio2[].</span>
<span id="L32"><span class="lineNum">      32</span>                 :             :  *</span>
<span id="L33"><span class="lineNum">      33</span>                 :             :  * Input parameters:</span>
<span id="L34"><span class="lineNum">      34</span>                 :             :  *      x[]     The input value (must be positive) is broken into nx </span>
<span id="L35"><span class="lineNum">      35</span>                 :             :  *              pieces of 24-bit integers in double precision format.</span>
<span id="L36"><span class="lineNum">      36</span>                 :             :  *              x[i] will be the i-th 24 bit of x. The scaled exponent </span>
<span id="L37"><span class="lineNum">      37</span>                 :             :  *              of x[0] is given in input parameter e0 (i.e., x[0]*2^e0 </span>
<span id="L38"><span class="lineNum">      38</span>                 :             :  *              match x's up to 24 bits.</span>
<span id="L39"><span class="lineNum">      39</span>                 :             :  *</span>
<span id="L40"><span class="lineNum">      40</span>                 :             :  *              Example of breaking a double positive z into x[0]+x[1]+x[2]:</span>
<span id="L41"><span class="lineNum">      41</span>                 :             :  *                      e0 = ilogb(z)-23</span>
<span id="L42"><span class="lineNum">      42</span>                 :             :  *                      z  = scalbn(z,-e0)</span>
<span id="L43"><span class="lineNum">      43</span>                 :             :  *              for i = 0,1,2</span>
<span id="L44"><span class="lineNum">      44</span>                 :             :  *                      x[i] = floor(z)</span>
<span id="L45"><span class="lineNum">      45</span>                 :             :  *                      z    = (z-x[i])*2**24</span>
<span id="L46"><span class="lineNum">      46</span>                 :             :  *</span>
<span id="L47"><span class="lineNum">      47</span>                 :             :  *</span>
<span id="L48"><span class="lineNum">      48</span>                 :             :  *      y[]     ouput result in an array of double precision numbers.</span>
<span id="L49"><span class="lineNum">      49</span>                 :             :  *              The dimension of y[] is:</span>
<span id="L50"><span class="lineNum">      50</span>                 :             :  *                      24-bit  precision       1</span>
<span id="L51"><span class="lineNum">      51</span>                 :             :  *                      53-bit  precision       2</span>
<span id="L52"><span class="lineNum">      52</span>                 :             :  *                      64-bit  precision       2</span>
<span id="L53"><span class="lineNum">      53</span>                 :             :  *                      113-bit precision       3</span>
<span id="L54"><span class="lineNum">      54</span>                 :             :  *              The actual value is the sum of them. Thus for 113-bit</span>
<span id="L55"><span class="lineNum">      55</span>                 :             :  *              precison, one may have to do something like:</span>
<span id="L56"><span class="lineNum">      56</span>                 :             :  *</span>
<span id="L57"><span class="lineNum">      57</span>                 :             :  *              long double t,w,r_head, r_tail;</span>
<span id="L58"><span class="lineNum">      58</span>                 :             :  *              t = (long double)y[2] + (long double)y[1];</span>
<span id="L59"><span class="lineNum">      59</span>                 :             :  *              w = (long double)y[0];</span>
<span id="L60"><span class="lineNum">      60</span>                 :             :  *              r_head = t+w;</span>
<span id="L61"><span class="lineNum">      61</span>                 :             :  *              r_tail = w - (r_head - t);</span>
<span id="L62"><span class="lineNum">      62</span>                 :             :  *</span>
<span id="L63"><span class="lineNum">      63</span>                 :             :  *      e0      The exponent of x[0]. Must be &lt;= 16360 or you need to</span>
<span id="L64"><span class="lineNum">      64</span>                 :             :  *              expand the ipio2 table.</span>
<span id="L65"><span class="lineNum">      65</span>                 :             :  *</span>
<span id="L66"><span class="lineNum">      66</span>                 :             :  *      nx      dimension of x[]</span>
<span id="L67"><span class="lineNum">      67</span>                 :             :  *</span>
<span id="L68"><span class="lineNum">      68</span>                 :             :  *      prec    an integer indicating the precision:</span>
<span id="L69"><span class="lineNum">      69</span>                 :             :  *                      0       24  bits (single)</span>
<span id="L70"><span class="lineNum">      70</span>                 :             :  *                      1       53  bits (double)</span>
<span id="L71"><span class="lineNum">      71</span>                 :             :  *                      2       64  bits (extended)</span>
<span id="L72"><span class="lineNum">      72</span>                 :             :  *                      3       113 bits (quad)</span>
<span id="L73"><span class="lineNum">      73</span>                 :             :  *</span>
<span id="L74"><span class="lineNum">      74</span>                 :             :  * External function:</span>
<span id="L75"><span class="lineNum">      75</span>                 :             :  *      double scalbn(), floor();</span>
<span id="L76"><span class="lineNum">      76</span>                 :             :  *</span>
<span id="L77"><span class="lineNum">      77</span>                 :             :  *</span>
<span id="L78"><span class="lineNum">      78</span>                 :             :  * Here is the description of some local variables:</span>
<span id="L79"><span class="lineNum">      79</span>                 :             :  *</span>
<span id="L80"><span class="lineNum">      80</span>                 :             :  *      jk      jk+1 is the initial number of terms of ipio2[] needed</span>
<span id="L81"><span class="lineNum">      81</span>                 :             :  *              in the computation. The minimum and recommended value</span>
<span id="L82"><span class="lineNum">      82</span>                 :             :  *              for jk is 3,4,4,6 for single, double, extended, and quad.</span>
<span id="L83"><span class="lineNum">      83</span>                 :             :  *              jk+1 must be 2 larger than you might expect so that our</span>
<span id="L84"><span class="lineNum">      84</span>                 :             :  *              recomputation test works. (Up to 24 bits in the integer</span>
<span id="L85"><span class="lineNum">      85</span>                 :             :  *              part (the 24 bits of it that we compute) and 23 bits in</span>
<span id="L86"><span class="lineNum">      86</span>                 :             :  *              the fraction part may be lost to cancelation before we</span>
<span id="L87"><span class="lineNum">      87</span>                 :             :  *              recompute.)</span>
<span id="L88"><span class="lineNum">      88</span>                 :             :  *</span>
<span id="L89"><span class="lineNum">      89</span>                 :             :  *      jz      local integer variable indicating the number of </span>
<span id="L90"><span class="lineNum">      90</span>                 :             :  *              terms of ipio2[] used. </span>
<span id="L91"><span class="lineNum">      91</span>                 :             :  *</span>
<span id="L92"><span class="lineNum">      92</span>                 :             :  *      jx      nx - 1</span>
<span id="L93"><span class="lineNum">      93</span>                 :             :  *</span>
<span id="L94"><span class="lineNum">      94</span>                 :             :  *      jv      index for pointing to the suitable ipio2[] for the</span>
<span id="L95"><span class="lineNum">      95</span>                 :             :  *              computation. In general, we want</span>
<span id="L96"><span class="lineNum">      96</span>                 :             :  *                      ( 2^e0*x[0] * ipio2[jv-1]*2^(-24jv) )/8</span>
<span id="L97"><span class="lineNum">      97</span>                 :             :  *              is an integer. Thus</span>
<span id="L98"><span class="lineNum">      98</span>                 :             :  *                      e0-3-24*jv &gt;= 0 or (e0-3)/24 &gt;= jv</span>
<span id="L99"><span class="lineNum">      99</span>                 :             :  *              Hence jv = max(0,(e0-3)/24).</span>
<span id="L100"><span class="lineNum">     100</span>                 :             :  *</span>
<span id="L101"><span class="lineNum">     101</span>                 :             :  *      jp      jp+1 is the number of terms in PIo2[] needed, jp = jk.</span>
<span id="L102"><span class="lineNum">     102</span>                 :             :  *</span>
<span id="L103"><span class="lineNum">     103</span>                 :             :  *      q[]     double array with integral value, representing the</span>
<span id="L104"><span class="lineNum">     104</span>                 :             :  *              24-bits chunk of the product of x and 2/pi.</span>
<span id="L105"><span class="lineNum">     105</span>                 :             :  *</span>
<span id="L106"><span class="lineNum">     106</span>                 :             :  *      q0      the corresponding exponent of q[0]. Note that the</span>
<span id="L107"><span class="lineNum">     107</span>                 :             :  *              exponent for q[i] would be q0-24*i.</span>
<span id="L108"><span class="lineNum">     108</span>                 :             :  *</span>
<span id="L109"><span class="lineNum">     109</span>                 :             :  *      PIo2[]  double precision array, obtained by cutting pi/2</span>
<span id="L110"><span class="lineNum">     110</span>                 :             :  *              into 24 bits chunks. </span>
<span id="L111"><span class="lineNum">     111</span>                 :             :  *</span>
<span id="L112"><span class="lineNum">     112</span>                 :             :  *      f[]     ipio2[] in floating point </span>
<span id="L113"><span class="lineNum">     113</span>                 :             :  *</span>
<span id="L114"><span class="lineNum">     114</span>                 :             :  *      iq[]    integer array by breaking up q[] in 24-bits chunk.</span>
<span id="L115"><span class="lineNum">     115</span>                 :             :  *</span>
<span id="L116"><span class="lineNum">     116</span>                 :             :  *      fq[]    final product of x*(2/pi) in fq[0],..,fq[jk]</span>
<span id="L117"><span class="lineNum">     117</span>                 :             :  *</span>
<span id="L118"><span class="lineNum">     118</span>                 :             :  *      ih      integer. If &gt;0 it indicates q[] is &gt;= 0.5, hence</span>
<span id="L119"><span class="lineNum">     119</span>                 :             :  *              it also indicates the *sign* of the result.</span>
<span id="L120"><span class="lineNum">     120</span>                 :             :  *</span>
<span id="L121"><span class="lineNum">     121</span>                 :             :  */</span>
<span id="L122"><span class="lineNum">     122</span>                 :             : </span>
<span id="L123"><span class="lineNum">     123</span>                 :             : </span>
<span id="L124"><span class="lineNum">     124</span>                 :             : /*</span>
<span id="L125"><span class="lineNum">     125</span>                 :             :  * Constants:</span>
<span id="L126"><span class="lineNum">     126</span>                 :             :  * The hexadecimal values are the intended ones for the following </span>
<span id="L127"><span class="lineNum">     127</span>                 :             :  * constants. The decimal values may be used, provided that the </span>
<span id="L128"><span class="lineNum">     128</span>                 :             :  * compiler will convert from decimal to binary accurately enough </span>
<span id="L129"><span class="lineNum">     129</span>                 :             :  * to produce the hexadecimal values shown.</span>
<span id="L130"><span class="lineNum">     130</span>                 :             :  */</span>
<span id="L131"><span class="lineNum">     131</span>                 :             : </span>
<span id="L132"><span class="lineNum">     132</span>                 :             : #include &lt;float.h&gt;</span>
<span id="L133"><span class="lineNum">     133</span>                 :             : #include &lt;openlibm_math.h&gt;</span>
<span id="L134"><span class="lineNum">     134</span>                 :             : </span>
<span id="L135"><span class="lineNum">     135</span>                 :             : #include &quot;math_private.h&quot;</span>
<span id="L136"><span class="lineNum">     136</span>                 :             : </span>
<span id="L137"><span class="lineNum">     137</span>                 :             : static const int init_jk[] = {3,4,4,6}; /* initial value for jk */</span>
<span id="L138"><span class="lineNum">     138</span>                 :             : </span>
<span id="L139"><span class="lineNum">     139</span>                 :             : /*</span>
<span id="L140"><span class="lineNum">     140</span>                 :             :  * Table of constants for 2/pi, 396 Hex digits (476 decimal) of 2/pi</span>
<span id="L141"><span class="lineNum">     141</span>                 :             :  *</span>
<span id="L142"><span class="lineNum">     142</span>                 :             :  *              integer array, contains the (24*i)-th to (24*i+23)-th </span>
<span id="L143"><span class="lineNum">     143</span>                 :             :  *              bit of 2/pi after binary point. The corresponding </span>
<span id="L144"><span class="lineNum">     144</span>                 :             :  *              floating value is</span>
<span id="L145"><span class="lineNum">     145</span>                 :             :  *</span>
<span id="L146"><span class="lineNum">     146</span>                 :             :  *                      ipio2[i] * 2^(-24(i+1)).</span>
<span id="L147"><span class="lineNum">     147</span>                 :             :  *</span>
<span id="L148"><span class="lineNum">     148</span>                 :             :  * NB: This table must have at least (e0-3)/24 + jk terms.</span>
<span id="L149"><span class="lineNum">     149</span>                 :             :  *     For quad precision (e0 &lt;= 16360, jk = 6), this is 686.</span>
<span id="L150"><span class="lineNum">     150</span>                 :             :  */</span>
<span id="L151"><span class="lineNum">     151</span>                 :             : static const int32_t ipio2[] = {</span>
<span id="L152"><span class="lineNum">     152</span>                 :             : 0xA2F983, 0x6E4E44, 0x1529FC, 0x2757D1, 0xF534DD, 0xC0DB62, </span>
<span id="L153"><span class="lineNum">     153</span>                 :             : 0x95993C, 0x439041, 0xFE5163, 0xABDEBB, 0xC561B7, 0x246E3A, </span>
<span id="L154"><span class="lineNum">     154</span>                 :             : 0x424DD2, 0xE00649, 0x2EEA09, 0xD1921C, 0xFE1DEB, 0x1CB129, </span>
<span id="L155"><span class="lineNum">     155</span>                 :             : 0xA73EE8, 0x8235F5, 0x2EBB44, 0x84E99C, 0x7026B4, 0x5F7E41, </span>
<span id="L156"><span class="lineNum">     156</span>                 :             : 0x3991D6, 0x398353, 0x39F49C, 0x845F8B, 0xBDF928, 0x3B1FF8, </span>
<span id="L157"><span class="lineNum">     157</span>                 :             : 0x97FFDE, 0x05980F, 0xEF2F11, 0x8B5A0A, 0x6D1F6D, 0x367ECF, </span>
<span id="L158"><span class="lineNum">     158</span>                 :             : 0x27CB09, 0xB74F46, 0x3F669E, 0x5FEA2D, 0x7527BA, 0xC7EBE5, </span>
<span id="L159"><span class="lineNum">     159</span>                 :             : 0xF17B3D, 0x0739F7, 0x8A5292, 0xEA6BFB, 0x5FB11F, 0x8D5D08, </span>
<span id="L160"><span class="lineNum">     160</span>                 :             : 0x560330, 0x46FC7B, 0x6BABF0, 0xCFBC20, 0x9AF436, 0x1DA9E3, </span>
<span id="L161"><span class="lineNum">     161</span>                 :             : 0x91615E, 0xE61B08, 0x659985, 0x5F14A0, 0x68408D, 0xFFD880, </span>
<span id="L162"><span class="lineNum">     162</span>                 :             : 0x4D7327, 0x310606, 0x1556CA, 0x73A8C9, 0x60E27B, 0xC08C6B, </span>
<span id="L163"><span class="lineNum">     163</span>                 :             : </span>
<span id="L164"><span class="lineNum">     164</span>                 :             : #if LDBL_MAX_EXP &gt; 1024</span>
<span id="L165"><span class="lineNum">     165</span>                 :             : #if LDBL_MAX_EXP &gt; 16384</span>
<span id="L166"><span class="lineNum">     166</span>                 :             : #error &quot;ipio2 table needs to be expanded&quot;</span>
<span id="L167"><span class="lineNum">     167</span>                 :             : #endif</span>
<span id="L168"><span class="lineNum">     168</span>                 :             : 0x47C419, 0xC367CD, 0xDCE809, 0x2A8359, 0xC4768B, 0x961CA6,</span>
<span id="L169"><span class="lineNum">     169</span>                 :             : 0xDDAF44, 0xD15719, 0x053EA5, 0xFF0705, 0x3F7E33, 0xE832C2,</span>
<span id="L170"><span class="lineNum">     170</span>                 :             : 0xDE4F98, 0x327DBB, 0xC33D26, 0xEF6B1E, 0x5EF89F, 0x3A1F35,</span>
<span id="L171"><span class="lineNum">     171</span>                 :             : 0xCAF27F, 0x1D87F1, 0x21907C, 0x7C246A, 0xFA6ED5, 0x772D30,</span>
<span id="L172"><span class="lineNum">     172</span>                 :             : 0x433B15, 0xC614B5, 0x9D19C3, 0xC2C4AD, 0x414D2C, 0x5D000C,</span>
<span id="L173"><span class="lineNum">     173</span>                 :             : 0x467D86, 0x2D71E3, 0x9AC69B, 0x006233, 0x7CD2B4, 0x97A7B4,</span>
<span id="L174"><span class="lineNum">     174</span>                 :             : 0xD55537, 0xF63ED7, 0x1810A3, 0xFC764D, 0x2A9D64, 0xABD770,</span>
<span id="L175"><span class="lineNum">     175</span>                 :             : 0xF87C63, 0x57B07A, 0xE71517, 0x5649C0, 0xD9D63B, 0x3884A7,</span>
<span id="L176"><span class="lineNum">     176</span>                 :             : 0xCB2324, 0x778AD6, 0x23545A, 0xB91F00, 0x1B0AF1, 0xDFCE19,</span>
<span id="L177"><span class="lineNum">     177</span>                 :             : 0xFF319F, 0x6A1E66, 0x615799, 0x47FBAC, 0xD87F7E, 0xB76522,</span>
<span id="L178"><span class="lineNum">     178</span>                 :             : 0x89E832, 0x60BFE6, 0xCDC4EF, 0x09366C, 0xD43F5D, 0xD7DE16,</span>
<span id="L179"><span class="lineNum">     179</span>                 :             : 0xDE3B58, 0x929BDE, 0x2822D2, 0xE88628, 0x4D58E2, 0x32CAC6,</span>
<span id="L180"><span class="lineNum">     180</span>                 :             : 0x16E308, 0xCB7DE0, 0x50C017, 0xA71DF3, 0x5BE018, 0x34132E,</span>
<span id="L181"><span class="lineNum">     181</span>                 :             : 0x621283, 0x014883, 0x5B8EF5, 0x7FB0AD, 0xF2E91E, 0x434A48,</span>
<span id="L182"><span class="lineNum">     182</span>                 :             : 0xD36710, 0xD8DDAA, 0x425FAE, 0xCE616A, 0xA4280A, 0xB499D3,</span>
<span id="L183"><span class="lineNum">     183</span>                 :             : 0xF2A606, 0x7F775C, 0x83C2A3, 0x883C61, 0x78738A, 0x5A8CAF,</span>
<span id="L184"><span class="lineNum">     184</span>                 :             : 0xBDD76F, 0x63A62D, 0xCBBFF4, 0xEF818D, 0x67C126, 0x45CA55,</span>
<span id="L185"><span class="lineNum">     185</span>                 :             : 0x36D9CA, 0xD2A828, 0x8D61C2, 0x77C912, 0x142604, 0x9B4612,</span>
<span id="L186"><span class="lineNum">     186</span>                 :             : 0xC459C4, 0x44C5C8, 0x91B24D, 0xF31700, 0xAD43D4, 0xE54929,</span>
<span id="L187"><span class="lineNum">     187</span>                 :             : 0x10D5FD, 0xFCBE00, 0xCC941E, 0xEECE70, 0xF53E13, 0x80F1EC,</span>
<span id="L188"><span class="lineNum">     188</span>                 :             : 0xC3E7B3, 0x28F8C7, 0x940593, 0x3E71C1, 0xB3092E, 0xF3450B,</span>
<span id="L189"><span class="lineNum">     189</span>                 :             : 0x9C1288, 0x7B20AB, 0x9FB52E, 0xC29247, 0x2F327B, 0x6D550C,</span>
<span id="L190"><span class="lineNum">     190</span>                 :             : 0x90A772, 0x1FE76B, 0x96CB31, 0x4A1679, 0xE27941, 0x89DFF4,</span>
<span id="L191"><span class="lineNum">     191</span>                 :             : 0x9794E8, 0x84E6E2, 0x973199, 0x6BED88, 0x365F5F, 0x0EFDBB,</span>
<span id="L192"><span class="lineNum">     192</span>                 :             : 0xB49A48, 0x6CA467, 0x427271, 0x325D8D, 0xB8159F, 0x09E5BC,</span>
<span id="L193"><span class="lineNum">     193</span>                 :             : 0x25318D, 0x3974F7, 0x1C0530, 0x010C0D, 0x68084B, 0x58EE2C,</span>
<span id="L194"><span class="lineNum">     194</span>                 :             : 0x90AA47, 0x02E774, 0x24D6BD, 0xA67DF7, 0x72486E, 0xEF169F,</span>
<span id="L195"><span class="lineNum">     195</span>                 :             : 0xA6948E, 0xF691B4, 0x5153D1, 0xF20ACF, 0x339820, 0x7E4BF5,</span>
<span id="L196"><span class="lineNum">     196</span>                 :             : 0x6863B2, 0x5F3EDD, 0x035D40, 0x7F8985, 0x295255, 0xC06437,</span>
<span id="L197"><span class="lineNum">     197</span>                 :             : 0x10D86D, 0x324832, 0x754C5B, 0xD4714E, 0x6E5445, 0xC1090B,</span>
<span id="L198"><span class="lineNum">     198</span>                 :             : 0x69F52A, 0xD56614, 0x9D0727, 0x50045D, 0xDB3BB4, 0xC576EA,</span>
<span id="L199"><span class="lineNum">     199</span>                 :             : 0x17F987, 0x7D6B49, 0xBA271D, 0x296996, 0xACCCC6, 0x5414AD,</span>
<span id="L200"><span class="lineNum">     200</span>                 :             : 0x6AE290, 0x89D988, 0x50722C, 0xBEA404, 0x940777, 0x7030F3,</span>
<span id="L201"><span class="lineNum">     201</span>                 :             : 0x27FC00, 0xA871EA, 0x49C266, 0x3DE064, 0x83DD97, 0x973FA3,</span>
<span id="L202"><span class="lineNum">     202</span>                 :             : 0xFD9443, 0x8C860D, 0xDE4131, 0x9D3992, 0x8C70DD, 0xE7B717,</span>
<span id="L203"><span class="lineNum">     203</span>                 :             : 0x3BDF08, 0x2B3715, 0xA0805C, 0x93805A, 0x921110, 0xD8E80F,</span>
<span id="L204"><span class="lineNum">     204</span>                 :             : 0xAF806C, 0x4BFFDB, 0x0F9038, 0x761859, 0x15A562, 0xBBCB61,</span>
<span id="L205"><span class="lineNum">     205</span>                 :             : 0xB989C7, 0xBD4010, 0x04F2D2, 0x277549, 0xF6B6EB, 0xBB22DB,</span>
<span id="L206"><span class="lineNum">     206</span>                 :             : 0xAA140A, 0x2F2689, 0x768364, 0x333B09, 0x1A940E, 0xAA3A51,</span>
<span id="L207"><span class="lineNum">     207</span>                 :             : 0xC2A31D, 0xAEEDAF, 0x12265C, 0x4DC26D, 0x9C7A2D, 0x9756C0,</span>
<span id="L208"><span class="lineNum">     208</span>                 :             : 0x833F03, 0xF6F009, 0x8C402B, 0x99316D, 0x07B439, 0x15200C,</span>
<span id="L209"><span class="lineNum">     209</span>                 :             : 0x5BC3D8, 0xC492F5, 0x4BADC6, 0xA5CA4E, 0xCD37A7, 0x36A9E6,</span>
<span id="L210"><span class="lineNum">     210</span>                 :             : 0x9492AB, 0x6842DD, 0xDE6319, 0xEF8C76, 0x528B68, 0x37DBFC,</span>
<span id="L211"><span class="lineNum">     211</span>                 :             : 0xABA1AE, 0x3115DF, 0xA1AE00, 0xDAFB0C, 0x664D64, 0xB705ED,</span>
<span id="L212"><span class="lineNum">     212</span>                 :             : 0x306529, 0xBF5657, 0x3AFF47, 0xB9F96A, 0xF3BE75, 0xDF9328,</span>
<span id="L213"><span class="lineNum">     213</span>                 :             : 0x3080AB, 0xF68C66, 0x15CB04, 0x0622FA, 0x1DE4D9, 0xA4B33D,</span>
<span id="L214"><span class="lineNum">     214</span>                 :             : 0x8F1B57, 0x09CD36, 0xE9424E, 0xA4BE13, 0xB52333, 0x1AAAF0,</span>
<span id="L215"><span class="lineNum">     215</span>                 :             : 0xA8654F, 0xA5C1D2, 0x0F3F0B, 0xCD785B, 0x76F923, 0x048B7B,</span>
<span id="L216"><span class="lineNum">     216</span>                 :             : 0x721789, 0x53A6C6, 0xE26E6F, 0x00EBEF, 0x584A9B, 0xB7DAC4,</span>
<span id="L217"><span class="lineNum">     217</span>                 :             : 0xBA66AA, 0xCFCF76, 0x1D02D1, 0x2DF1B1, 0xC1998C, 0x77ADC3,</span>
<span id="L218"><span class="lineNum">     218</span>                 :             : 0xDA4886, 0xA05DF7, 0xF480C6, 0x2FF0AC, 0x9AECDD, 0xBC5C3F,</span>
<span id="L219"><span class="lineNum">     219</span>                 :             : 0x6DDED0, 0x1FC790, 0xB6DB2A, 0x3A25A3, 0x9AAF00, 0x9353AD,</span>
<span id="L220"><span class="lineNum">     220</span>                 :             : 0x0457B6, 0xB42D29, 0x7E804B, 0xA707DA, 0x0EAA76, 0xA1597B,</span>
<span id="L221"><span class="lineNum">     221</span>                 :             : 0x2A1216, 0x2DB7DC, 0xFDE5FA, 0xFEDB89, 0xFDBE89, 0x6C76E4,</span>
<span id="L222"><span class="lineNum">     222</span>                 :             : 0xFCA906, 0x70803E, 0x156E85, 0xFF87FD, 0x073E28, 0x336761,</span>
<span id="L223"><span class="lineNum">     223</span>                 :             : 0x86182A, 0xEABD4D, 0xAFE7B3, 0x6E6D8F, 0x396795, 0x5BBF31,</span>
<span id="L224"><span class="lineNum">     224</span>                 :             : 0x48D784, 0x16DF30, 0x432DC7, 0x356125, 0xCE70C9, 0xB8CB30,</span>
<span id="L225"><span class="lineNum">     225</span>                 :             : 0xFD6CBF, 0xA200A4, 0xE46C05, 0xA0DD5A, 0x476F21, 0xD21262,</span>
<span id="L226"><span class="lineNum">     226</span>                 :             : 0x845CB9, 0x496170, 0xE0566B, 0x015299, 0x375550, 0xB7D51E,</span>
<span id="L227"><span class="lineNum">     227</span>                 :             : 0xC4F133, 0x5F6E13, 0xE4305D, 0xA92E85, 0xC3B21D, 0x3632A1,</span>
<span id="L228"><span class="lineNum">     228</span>                 :             : 0xA4B708, 0xD4B1EA, 0x21F716, 0xE4698F, 0x77FF27, 0x80030C,</span>
<span id="L229"><span class="lineNum">     229</span>                 :             : 0x2D408D, 0xA0CD4F, 0x99A520, 0xD3A2B3, 0x0A5D2F, 0x42F9B4,</span>
<span id="L230"><span class="lineNum">     230</span>                 :             : 0xCBDA11, 0xD0BE7D, 0xC1DB9B, 0xBD17AB, 0x81A2CA, 0x5C6A08,</span>
<span id="L231"><span class="lineNum">     231</span>                 :             : 0x17552E, 0x550027, 0xF0147F, 0x8607E1, 0x640B14, 0x8D4196,</span>
<span id="L232"><span class="lineNum">     232</span>                 :             : 0xDEBE87, 0x2AFDDA, 0xB6256B, 0x34897B, 0xFEF305, 0x9EBFB9,</span>
<span id="L233"><span class="lineNum">     233</span>                 :             : 0x4F6A68, 0xA82A4A, 0x5AC44F, 0xBCF82D, 0x985AD7, 0x95C7F4,</span>
<span id="L234"><span class="lineNum">     234</span>                 :             : 0x8D4D0D, 0xA63A20, 0x5F57A4, 0xB13F14, 0x953880, 0x0120CC,</span>
<span id="L235"><span class="lineNum">     235</span>                 :             : 0x86DD71, 0xB6DEC9, 0xF560BF, 0x11654D, 0x6B0701, 0xACB08C,</span>
<span id="L236"><span class="lineNum">     236</span>                 :             : 0xD0C0B2, 0x485551, 0x0EFB1E, 0xC37295, 0x3B06A3, 0x3540C0,</span>
<span id="L237"><span class="lineNum">     237</span>                 :             : 0x7BDC06, 0xCC45E0, 0xFA294E, 0xC8CAD6, 0x41F3E8, 0xDE647C,</span>
<span id="L238"><span class="lineNum">     238</span>                 :             : 0xD8649B, 0x31BED9, 0xC397A4, 0xD45877, 0xC5E369, 0x13DAF0,</span>
<span id="L239"><span class="lineNum">     239</span>                 :             : 0x3C3ABA, 0x461846, 0x5F7555, 0xF5BDD2, 0xC6926E, 0x5D2EAC,</span>
<span id="L240"><span class="lineNum">     240</span>                 :             : 0xED440E, 0x423E1C, 0x87C461, 0xE9FD29, 0xF3D6E7, 0xCA7C22,</span>
<span id="L241"><span class="lineNum">     241</span>                 :             : 0x35916F, 0xC5E008, 0x8DD7FF, 0xE26A6E, 0xC6FDB0, 0xC10893,</span>
<span id="L242"><span class="lineNum">     242</span>                 :             : 0x745D7C, 0xB2AD6B, 0x9D6ECD, 0x7B723E, 0x6A11C6, 0xA9CFF7,</span>
<span id="L243"><span class="lineNum">     243</span>                 :             : 0xDF7329, 0xBAC9B5, 0x5100B7, 0x0DB2E2, 0x24BA74, 0x607DE5,</span>
<span id="L244"><span class="lineNum">     244</span>                 :             : 0x8AD874, 0x2C150D, 0x0C1881, 0x94667E, 0x162901, 0x767A9F,</span>
<span id="L245"><span class="lineNum">     245</span>                 :             : 0xBEFDFD, 0xEF4556, 0x367ED9, 0x13D9EC, 0xB9BA8B, 0xFC97C4,</span>
<span id="L246"><span class="lineNum">     246</span>                 :             : 0x27A831, 0xC36EF1, 0x36C594, 0x56A8D8, 0xB5A8B4, 0x0ECCCF,</span>
<span id="L247"><span class="lineNum">     247</span>                 :             : 0x2D8912, 0x34576F, 0x89562C, 0xE3CE99, 0xB920D6, 0xAA5E6B,</span>
<span id="L248"><span class="lineNum">     248</span>                 :             : 0x9C2A3E, 0xCC5F11, 0x4A0BFD, 0xFBF4E1, 0x6D3B8E, 0x2C86E2,</span>
<span id="L249"><span class="lineNum">     249</span>                 :             : 0x84D4E9, 0xA9B4FC, 0xD1EEEF, 0xC9352E, 0x61392F, 0x442138,</span>
<span id="L250"><span class="lineNum">     250</span>                 :             : 0xC8D91B, 0x0AFC81, 0x6A4AFB, 0xD81C2F, 0x84B453, 0x8C994E,</span>
<span id="L251"><span class="lineNum">     251</span>                 :             : 0xCC2254, 0xDC552A, 0xD6C6C0, 0x96190B, 0xB8701A, 0x649569,</span>
<span id="L252"><span class="lineNum">     252</span>                 :             : 0x605A26, 0xEE523F, 0x0F117F, 0x11B5F4, 0xF5CBFC, 0x2DBC34,</span>
<span id="L253"><span class="lineNum">     253</span>                 :             : 0xEEBC34, 0xCC5DE8, 0x605EDD, 0x9B8E67, 0xEF3392, 0xB817C9,</span>
<span id="L254"><span class="lineNum">     254</span>                 :             : 0x9B5861, 0xBC57E1, 0xC68351, 0x103ED8, 0x4871DD, 0xDD1C2D,</span>
<span id="L255"><span class="lineNum">     255</span>                 :             : 0xA118AF, 0x462C21, 0xD7F359, 0x987AD9, 0xC0549E, 0xFA864F,</span>
<span id="L256"><span class="lineNum">     256</span>                 :             : 0xFC0656, 0xAE79E5, 0x362289, 0x22AD38, 0xDC9367, 0xAAE855,</span>
<span id="L257"><span class="lineNum">     257</span>                 :             : 0x382682, 0x9BE7CA, 0xA40D51, 0xB13399, 0x0ED7A9, 0x480569,</span>
<span id="L258"><span class="lineNum">     258</span>                 :             : 0xF0B265, 0xA7887F, 0x974C88, 0x36D1F9, 0xB39221, 0x4A827B,</span>
<span id="L259"><span class="lineNum">     259</span>                 :             : 0x21CF98, 0xDC9F40, 0x5547DC, 0x3A74E1, 0x42EB67, 0xDF9DFE,</span>
<span id="L260"><span class="lineNum">     260</span>                 :             : 0x5FD45E, 0xA4677B, 0x7AACBA, 0xA2F655, 0x23882B, 0x55BA41,</span>
<span id="L261"><span class="lineNum">     261</span>                 :             : 0x086E59, 0x862A21, 0x834739, 0xE6E389, 0xD49EE5, 0x40FB49,</span>
<span id="L262"><span class="lineNum">     262</span>                 :             : 0xE956FF, 0xCA0F1C, 0x8A59C5, 0x2BFA94, 0xC5C1D3, 0xCFC50F,</span>
<span id="L263"><span class="lineNum">     263</span>                 :             : 0xAE5ADB, 0x86C547, 0x624385, 0x3B8621, 0x94792C, 0x876110,</span>
<span id="L264"><span class="lineNum">     264</span>                 :             : 0x7B4C2A, 0x1A2C80, 0x12BF43, 0x902688, 0x893C78, 0xE4C4A8,</span>
<span id="L265"><span class="lineNum">     265</span>                 :             : 0x7BDBE5, 0xC23AC4, 0xEAF426, 0x8A67F7, 0xBF920D, 0x2BA365,</span>
<span id="L266"><span class="lineNum">     266</span>                 :             : 0xB1933D, 0x0B7CBD, 0xDC51A4, 0x63DD27, 0xDDE169, 0x19949A,</span>
<span id="L267"><span class="lineNum">     267</span>                 :             : 0x9529A8, 0x28CE68, 0xB4ED09, 0x209F44, 0xCA984E, 0x638270,</span>
<span id="L268"><span class="lineNum">     268</span>                 :             : 0x237C7E, 0x32B90F, 0x8EF5A7, 0xE75614, 0x08F121, 0x2A9DB5,</span>
<span id="L269"><span class="lineNum">     269</span>                 :             : 0x4D7E6F, 0x5119A5, 0xABF9B5, 0xD6DF82, 0x61DD96, 0x023616,</span>
<span id="L270"><span class="lineNum">     270</span>                 :             : 0x9F3AC4, 0xA1A283, 0x6DED72, 0x7A8D39, 0xA9B882, 0x5C326B,</span>
<span id="L271"><span class="lineNum">     271</span>                 :             : 0x5B2746, 0xED3400, 0x7700D2, 0x55F4FC, 0x4D5901, 0x8071E0,</span>
<span id="L272"><span class="lineNum">     272</span>                 :             : #endif</span>
<span id="L273"><span class="lineNum">     273</span>                 :             : </span>
<span id="L274"><span class="lineNum">     274</span>                 :             : };</span>
<span id="L275"><span class="lineNum">     275</span>                 :             : </span>
<span id="L276"><span class="lineNum">     276</span>                 :             : static const double PIo2[] = {</span>
<span id="L277"><span class="lineNum">     277</span>                 :             :   1.57079625129699707031e+00, /* 0x3FF921FB, 0x40000000 */</span>
<span id="L278"><span class="lineNum">     278</span>                 :             :   7.54978941586159635335e-08, /* 0x3E74442D, 0x00000000 */</span>
<span id="L279"><span class="lineNum">     279</span>                 :             :   5.39030252995776476554e-15, /* 0x3CF84698, 0x80000000 */</span>
<span id="L280"><span class="lineNum">     280</span>                 :             :   3.28200341580791294123e-22, /* 0x3B78CC51, 0x60000000 */</span>
<span id="L281"><span class="lineNum">     281</span>                 :             :   1.27065575308067607349e-29, /* 0x39F01B83, 0x80000000 */</span>
<span id="L282"><span class="lineNum">     282</span>                 :             :   1.22933308981111328932e-36, /* 0x387A2520, 0x40000000 */</span>
<span id="L283"><span class="lineNum">     283</span>                 :             :   2.73370053816464559624e-44, /* 0x36E38222, 0x80000000 */</span>
<span id="L284"><span class="lineNum">     284</span>                 :             :   2.16741683877804819444e-51, /* 0x3569F31D, 0x00000000 */</span>
<span id="L285"><span class="lineNum">     285</span>                 :             : };</span>
<span id="L286"><span class="lineNum">     286</span>                 :             : </span>
<span id="L287"><span class="lineNum">     287</span>                 :             : static const double                     </span>
<span id="L288"><span class="lineNum">     288</span>                 :             : zero   = 0.0,</span>
<span id="L289"><span class="lineNum">     289</span>                 :             : one    = 1.0,</span>
<span id="L290"><span class="lineNum">     290</span>                 :             : two24   =  1.67772160000000000000e+07, /* 0x41700000, 0x00000000 */</span>
<span id="L291"><span class="lineNum">     291</span>                 :             : twon24  =  5.96046447753906250000e-08; /* 0x3E700000, 0x00000000 */</span>
<span id="L292"><span class="lineNum">     292</span>                 :             : </span>
<span id="L293"><span class="lineNum">     293</span>                 :             : OLM_DLLEXPORT int</span>
<span id="L294"><span class="lineNum">     294</span>                 :<span class="tlaUNC tlaBgUNC">           0 : __kernel_rem_pio2(double *x, double *y, int e0, int nx, int prec)</span></span>
<span id="L295"><span class="lineNum">     295</span>                 :             : {</span>
<span id="L296"><span class="lineNum">     296</span>                 :             :         int32_t jz,jx,jv,jp,jk,carry,n,iq[20],i,j,k,m,q0,ih;</span>
<span id="L297"><span class="lineNum">     297</span>                 :             :         double z,fw,f[20],fq[20],q[20];</span>
<span id="L298"><span class="lineNum">     298</span>                 :             : </span>
<span id="L299"><span class="lineNum">     299</span>                 :             :     /* initialize jk*/</span>
<span id="L300"><span class="lineNum">     300</span>                 :<span class="tlaUNC">           0 :         jk = init_jk[prec];</span></span>
<span id="L301"><span class="lineNum">     301</span>                 :<span class="tlaUNC">           0 :         jp = jk;</span></span>
<span id="L302"><span class="lineNum">     302</span>                 :             : </span>
<span id="L303"><span class="lineNum">     303</span>                 :             :     /* determine jx,jv,q0, note that 3&gt;q0 */</span>
<span id="L304"><span class="lineNum">     304</span>                 :<span class="tlaUNC">           0 :         jx =  nx-1;</span></span>
<span id="L305"><span class="lineNum">     305</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         jv = (e0-3)/24; if(jv&lt;0) jv=0;</span></span>
<span id="L306"><span class="lineNum">     306</span>                 :<span class="tlaUNC">           0 :         q0 =  e0-24*(jv+1);</span></span>
<span id="L307"><span class="lineNum">     307</span>                 :             : </span>
<span id="L308"><span class="lineNum">     308</span>                 :             :     /* set up f[0] to f[jx+jk] where f[jx+jk] = ipio2[jv+jk] */</span>
<span id="L309"><span class="lineNum">     309</span>                 :<span class="tlaUNC">           0 :         j = jv-jx; m = jx+jk;</span></span>
<span id="L310"><span class="lineNum">     310</span>   [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span><span class="tlaUNC" title="Branch 2 was not executed"> # </span><span class="tlaUNC" title="Branch 3 was not executed"> # </span>]:<span class="tlaUNC">           0 :         for(i=0;i&lt;=m;i++,j++) f[i] = (j&lt;0)? zero : (double) ipio2[j];</span></span>
<span id="L311"><span class="lineNum">     311</span>                 :             : </span>
<span id="L312"><span class="lineNum">     312</span>                 :             :     /* compute q[0],q[1],...q[jk] */</span>
<span id="L313"><span class="lineNum">     313</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         for (i=0;i&lt;=jk;i++) {</span></span>
<span id="L314"><span class="lineNum">     314</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :             for(j=0,fw=0.0;j&lt;=jx;j++) fw += x[j]*f[jx+i-j];</span></span>
<span id="L315"><span class="lineNum">     315</span>                 :<span class="tlaUNC">           0 :             q[i] = fw;</span></span>
<span id="L316"><span class="lineNum">     316</span>                 :             :         }</span>
<span id="L317"><span class="lineNum">     317</span>                 :             : </span>
<span id="L318"><span class="lineNum">     318</span>                 :<span class="tlaUNC">           0 :         jz = jk;</span></span>
<span id="L319"><span class="lineNum">     319</span>                 :<span class="tlaUNC">           0 : recompute:</span></span>
<span id="L320"><span class="lineNum">     320</span>                 :             :     /* distill q[] into iq[] reversingly */</span>
<span id="L321"><span class="lineNum">     321</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         for(i=0,j=jz,z=q[jz];j&gt;0;i++,j--) {</span></span>
<span id="L322"><span class="lineNum">     322</span>                 :<span class="tlaUNC">           0 :             fw    =  (double)((int32_t)(twon24* z));</span></span>
<span id="L323"><span class="lineNum">     323</span>                 :<span class="tlaUNC">           0 :             iq[i] =  (int32_t)(z-two24*fw);</span></span>
<span id="L324"><span class="lineNum">     324</span>                 :<span class="tlaUNC">           0 :             z     =  q[j-1]+fw;</span></span>
<span id="L325"><span class="lineNum">     325</span>                 :             :         }</span>
<span id="L326"><span class="lineNum">     326</span>                 :             : </span>
<span id="L327"><span class="lineNum">     327</span>                 :             :     /* compute n */</span>
<span id="L328"><span class="lineNum">     328</span>                 :<span class="tlaUNC">           0 :         z  = scalbn(z,q0);              /* actual value of z */</span></span>
<span id="L329"><span class="lineNum">     329</span>                 :<span class="tlaUNC">           0 :         z -= 8.0*floor(z*0.125);                /* trim off integer &gt;= 8 */</span></span>
<span id="L330"><span class="lineNum">     330</span>                 :<span class="tlaUNC">           0 :         n  = (int32_t) z;</span></span>
<span id="L331"><span class="lineNum">     331</span>                 :<span class="tlaUNC">           0 :         z -= (double)n;</span></span>
<span id="L332"><span class="lineNum">     332</span>                 :<span class="tlaUNC">           0 :         ih = 0;</span></span>
<span id="L333"><span class="lineNum">     333</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         if(q0&gt;0) {   /* need iq[jz-1] to determine n */</span></span>
<span id="L334"><span class="lineNum">     334</span>                 :<span class="tlaUNC">           0 :             i  = (iq[jz-1]&gt;&gt;(24-q0)); n += i;</span></span>
<span id="L335"><span class="lineNum">     335</span>                 :<span class="tlaUNC">           0 :             iq[jz-1] -= i&lt;&lt;(24-q0);</span></span>
<span id="L336"><span class="lineNum">     336</span>                 :<span class="tlaUNC">           0 :             ih = iq[jz-1]&gt;&gt;(23-q0);</span></span>
<span id="L337"><span class="lineNum">     337</span>                 :             :         } </span>
<span id="L338"><span class="lineNum">     338</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         else if(q0==0) ih = iq[jz-1]&gt;&gt;23;</span></span>
<span id="L339"><span class="lineNum">     339</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         else if(z&gt;=0.5) ih=2;</span></span>
<span id="L340"><span class="lineNum">     340</span>                 :             : </span>
<span id="L341"><span class="lineNum">     341</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         if(ih&gt;0) {   /* q &gt; 0.5 */</span></span>
<span id="L342"><span class="lineNum">     342</span>                 :<span class="tlaUNC">           0 :             n += 1; carry = 0;</span></span>
<span id="L343"><span class="lineNum">     343</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :             for(i=0;i&lt;jz ;i++) {     /* compute 1-q */</span></span>
<span id="L344"><span class="lineNum">     344</span>                 :<span class="tlaUNC">           0 :                 j = iq[i];</span></span>
<span id="L345"><span class="lineNum">     345</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 if(carry==0) {</span></span>
<span id="L346"><span class="lineNum">     346</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                     if(j!=0) {</span></span>
<span id="L347"><span class="lineNum">     347</span>                 :<span class="tlaUNC">           0 :                         carry = 1; iq[i] = 0x1000000- j;</span></span>
<span id="L348"><span class="lineNum">     348</span>                 :             :                     }</span>
<span id="L349"><span class="lineNum">     349</span>                 :<span class="tlaUNC">           0 :                 } else  iq[i] = 0xffffff - j;</span></span>
<span id="L350"><span class="lineNum">     350</span>                 :             :             }</span>
<span id="L351"><span class="lineNum">     351</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :             if(q0&gt;0) {               /* rare case: chance is 1 in 12 */</span></span>
<span id="L352"><span class="lineNum">     352</span>      [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span><span class="tlaUNC" title="Branch 2 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 switch(q0) {</span></span>
<span id="L353"><span class="lineNum">     353</span>                 :<span class="tlaUNC">           0 :                 case 1:</span></span>
<span id="L354"><span class="lineNum">     354</span>                 :<span class="tlaUNC">           0 :                    iq[jz-1] &amp;= 0x7fffff; break;</span></span>
<span id="L355"><span class="lineNum">     355</span>                 :<span class="tlaUNC">           0 :                 case 2:</span></span>
<span id="L356"><span class="lineNum">     356</span>                 :<span class="tlaUNC">           0 :                    iq[jz-1] &amp;= 0x3fffff; break;</span></span>
<span id="L357"><span class="lineNum">     357</span>                 :             :                 }</span>
<span id="L358"><span class="lineNum">     358</span>                 :             :             }</span>
<span id="L359"><span class="lineNum">     359</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :             if(ih==2) {</span></span>
<span id="L360"><span class="lineNum">     360</span>                 :<span class="tlaUNC">           0 :                 z = one - z;</span></span>
<span id="L361"><span class="lineNum">     361</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 if(carry!=0) z -= scalbn(one,q0);</span></span>
<span id="L362"><span class="lineNum">     362</span>                 :             :             }</span>
<span id="L363"><span class="lineNum">     363</span>                 :             :         }</span>
<span id="L364"><span class="lineNum">     364</span>                 :             : </span>
<span id="L365"><span class="lineNum">     365</span>                 :             :     /* check if recomputation is needed */</span>
<span id="L366"><span class="lineNum">     366</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         if(z==zero) {</span></span>
<span id="L367"><span class="lineNum">     367</span>                 :<span class="tlaUNC">           0 :             j = 0;</span></span>
<span id="L368"><span class="lineNum">     368</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :             for (i=jz-1;i&gt;=jk;i--) j |= iq[i];</span></span>
<span id="L369"><span class="lineNum">     369</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :             if(j==0) { /* need recomputation */</span></span>
<span id="L370"><span class="lineNum">     370</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 for(k=1;iq[jk-k]==0;k++);   /* k = no. of terms needed */</span></span>
<span id="L371"><span class="lineNum">     371</span>                 :             : </span>
<span id="L372"><span class="lineNum">     372</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 for(i=jz+1;i&lt;=jz+k;i++) {   /* add q[jz+1] to q[jz+k] */</span></span>
<span id="L373"><span class="lineNum">     373</span>                 :<span class="tlaUNC">           0 :                     f[jx+i] = (double) ipio2[jv+i];</span></span>
<span id="L374"><span class="lineNum">     374</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                     for(j=0,fw=0.0;j&lt;=jx;j++) fw += x[j]*f[jx+i-j];</span></span>
<span id="L375"><span class="lineNum">     375</span>                 :<span class="tlaUNC">           0 :                     q[i] = fw;</span></span>
<span id="L376"><span class="lineNum">     376</span>                 :             :                 }</span>
<span id="L377"><span class="lineNum">     377</span>                 :<span class="tlaUNC">           0 :                 jz += k;</span></span>
<span id="L378"><span class="lineNum">     378</span>                 :<span class="tlaUNC">           0 :                 goto recompute;</span></span>
<span id="L379"><span class="lineNum">     379</span>                 :             :             }</span>
<span id="L380"><span class="lineNum">     380</span>                 :             :         }</span>
<span id="L381"><span class="lineNum">     381</span>                 :             : </span>
<span id="L382"><span class="lineNum">     382</span>                 :             :     /* chop off zero terms */</span>
<span id="L383"><span class="lineNum">     383</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         if(z==0.0) {</span></span>
<span id="L384"><span class="lineNum">     384</span>                 :<span class="tlaUNC">           0 :             jz -= 1; q0 -= 24;</span></span>
<span id="L385"><span class="lineNum">     385</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :             while(iq[jz]==0) { jz--; q0-=24;}</span></span>
<span id="L386"><span class="lineNum">     386</span>                 :             :         } else { /* break z into 24-bit if necessary */</span>
<span id="L387"><span class="lineNum">     387</span>                 :<span class="tlaUNC">           0 :             z = scalbn(z,-q0);</span></span>
<span id="L388"><span class="lineNum">     388</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :             if(z&gt;=two24) { </span></span>
<span id="L389"><span class="lineNum">     389</span>                 :<span class="tlaUNC">           0 :                 fw = (double)((int32_t)(twon24*z));</span></span>
<span id="L390"><span class="lineNum">     390</span>                 :<span class="tlaUNC">           0 :                 iq[jz] = (int32_t)(z-two24*fw);</span></span>
<span id="L391"><span class="lineNum">     391</span>                 :<span class="tlaUNC">           0 :                 jz += 1; q0 += 24;</span></span>
<span id="L392"><span class="lineNum">     392</span>                 :<span class="tlaUNC">           0 :                 iq[jz] = (int32_t) fw;</span></span>
<span id="L393"><span class="lineNum">     393</span>                 :<span class="tlaUNC">           0 :             } else iq[jz] = (int32_t) z ;</span></span>
<span id="L394"><span class="lineNum">     394</span>                 :             :         }</span>
<span id="L395"><span class="lineNum">     395</span>                 :             : </span>
<span id="L396"><span class="lineNum">     396</span>                 :             :     /* convert integer &quot;bit&quot; chunk to floating-point value */</span>
<span id="L397"><span class="lineNum">     397</span>                 :<span class="tlaUNC">           0 :         fw = scalbn(one,q0);</span></span>
<span id="L398"><span class="lineNum">     398</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         for(i=jz;i&gt;=0;i--) {</span></span>
<span id="L399"><span class="lineNum">     399</span>                 :<span class="tlaUNC">           0 :             q[i] = fw*(double)iq[i]; fw*=twon24;</span></span>
<span id="L400"><span class="lineNum">     400</span>                 :             :         }</span>
<span id="L401"><span class="lineNum">     401</span>                 :             : </span>
<span id="L402"><span class="lineNum">     402</span>                 :             :     /* compute PIo2[0,...,jp]*q[jz,...,0] */</span>
<span id="L403"><span class="lineNum">     403</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :         for(i=jz;i&gt;=0;i--) {</span></span>
<span id="L404"><span class="lineNum">     404</span>   [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span><span class="tlaUNC" title="Branch 2 was not executed"> # </span><span class="tlaUNC" title="Branch 3 was not executed"> # </span>]:<span class="tlaUNC">           0 :             for(fw=0.0,k=0;k&lt;=jp&amp;&amp;k&lt;=jz-i;k++) fw += PIo2[k]*q[i+k];</span></span>
<span id="L405"><span class="lineNum">     405</span>                 :<span class="tlaUNC">           0 :             fq[jz-i] = fw;</span></span>
<span id="L406"><span class="lineNum">     406</span>                 :             :         }</span>
<span id="L407"><span class="lineNum">     407</span>                 :             : </span>
<span id="L408"><span class="lineNum">     408</span>                 :             :     /* compress fq[] into y[] */</span>
<span id="L409"><span class="lineNum">     409</span>   [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span><span class="tlaUNC" title="Branch 2 was not executed"> # </span><span class="tlaUNC" title="Branch 3 was not executed"> # </span>]:<span class="tlaUNC">           0 :         switch(prec) {</span></span>
<span id="L410"><span class="lineNum">     410</span>                 :<span class="tlaUNC">           0 :             case 0:</span></span>
<span id="L411"><span class="lineNum">     411</span>                 :<span class="tlaUNC">           0 :                 fw = 0.0;</span></span>
<span id="L412"><span class="lineNum">     412</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 for (i=jz;i&gt;=0;i--) fw += fq[i];</span></span>
<span id="L413"><span class="lineNum">     413</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 y[0] = (ih==0)? fw: -fw; </span></span>
<span id="L414"><span class="lineNum">     414</span>                 :<span class="tlaUNC">           0 :                 break;</span></span>
<span id="L415"><span class="lineNum">     415</span>                 :<span class="tlaUNC">           0 :             case 1:</span></span>
<span id="L416"><span class="lineNum">     416</span>                 :             :             case 2:</span>
<span id="L417"><span class="lineNum">     417</span>                 :<span class="tlaUNC">           0 :                 fw = 0.0;</span></span>
<span id="L418"><span class="lineNum">     418</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 for (i=jz;i&gt;=0;i--) fw += fq[i]; </span></span>
<span id="L419"><span class="lineNum">     419</span>                 :<span class="tlaUNC">           0 :                 STRICT_ASSIGN(double,fw,fw);</span></span>
<span id="L420"><span class="lineNum">     420</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 y[0] = (ih==0)? fw: -fw; </span></span>
<span id="L421"><span class="lineNum">     421</span>                 :<span class="tlaUNC">           0 :                 fw = fq[0]-fw;</span></span>
<span id="L422"><span class="lineNum">     422</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 for (i=1;i&lt;=jz;i++) fw += fq[i];</span></span>
<span id="L423"><span class="lineNum">     423</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 y[1] = (ih==0)? fw: -fw; </span></span>
<span id="L424"><span class="lineNum">     424</span>                 :<span class="tlaUNC">           0 :                 break;</span></span>
<span id="L425"><span class="lineNum">     425</span>                 :<span class="tlaUNC">           0 :             case 3:     /* painful */</span></span>
<span id="L426"><span class="lineNum">     426</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 for (i=jz;i&gt;0;i--) {</span></span>
<span id="L427"><span class="lineNum">     427</span>                 :<span class="tlaUNC">           0 :                     fw      = fq[i-1]+fq[i]; </span></span>
<span id="L428"><span class="lineNum">     428</span>                 :<span class="tlaUNC">           0 :                     fq[i]  += fq[i-1]-fw;</span></span>
<span id="L429"><span class="lineNum">     429</span>                 :<span class="tlaUNC">           0 :                     fq[i-1] = fw;</span></span>
<span id="L430"><span class="lineNum">     430</span>                 :             :                 }</span>
<span id="L431"><span class="lineNum">     431</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 for (i=jz;i&gt;1;i--) {</span></span>
<span id="L432"><span class="lineNum">     432</span>                 :<span class="tlaUNC">           0 :                     fw      = fq[i-1]+fq[i]; </span></span>
<span id="L433"><span class="lineNum">     433</span>                 :<span class="tlaUNC">           0 :                     fq[i]  += fq[i-1]-fw;</span></span>
<span id="L434"><span class="lineNum">     434</span>                 :<span class="tlaUNC">           0 :                     fq[i-1] = fw;</span></span>
<span id="L435"><span class="lineNum">     435</span>                 :             :                 }</span>
<span id="L436"><span class="lineNum">     436</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 for (fw=0.0,i=jz;i&gt;=2;i--) fw += fq[i]; </span></span>
<span id="L437"><span class="lineNum">     437</span>         [<span class="tlaUNC" title="Branch 0 was not executed"> # </span><span class="tlaUNC" title="Branch 1 was not executed"> # </span>]:<span class="tlaUNC">           0 :                 if(ih==0) {</span></span>
<span id="L438"><span class="lineNum">     438</span>                 :<span class="tlaUNC">           0 :                     y[0] =  fq[0]; y[1] =  fq[1]; y[2] =  fw;</span></span>
<span id="L439"><span class="lineNum">     439</span>                 :             :                 } else {</span>
<span id="L440"><span class="lineNum">     440</span>                 :<span class="tlaUNC">           0 :                     y[0] = -fq[0]; y[1] = -fq[1]; y[2] = -fw;</span></span>
<span id="L441"><span class="lineNum">     441</span>                 :             :                 }</span>
<span id="L442"><span class="lineNum">     442</span>                 :             :         }</span>
<span id="L443"><span class="lineNum">     443</span>                 :<span class="tlaUNC">           0 :         return n&amp;7;</span></span>
<span id="L444"><span class="lineNum">     444</span>                 :             : }</span>
        </pre>
              </td>
            </tr>
          </table>
          <br>

          <table width="100%" border=0 cellspacing=0 cellpadding=0>
            <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
            <tr><td class="versionInfo">Generated by: <a href="https://github.com//linux-test-project/lcov" target="_parent">LCOV version 2.0-115.g950771e</a></td></tr>
          </table>
          <br>

</body>
</html>
